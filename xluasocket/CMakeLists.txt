project(xluasocket)
SET(XLUASOCKET_H ./xluaconf.h ./write_buffer.h ./ringbuf.h ./protoc.h)
SET(XLUASOCKET_C ./lxluasocket.c ./ringbuf.c ./write_buffer.c)
message(STATUS ${XLUASOCKET_C})
ADD_DEFINITIONS(-DLUA_BUILD_AS_DLL)
include_directories(.)
include_directories(../src)
set(LIBRARY_OUTPUT_PATH ../../bin)
add_library(xluasocket SHARED ${XLUASOCKET_H} ${XLUASOCKET_C})
link_directories(../googletest/Debug)
target_link_libraries(xluasocket liblua)

project(ringbuf_unittest)
SET(RINGBUG_UNITTEST_H ./ringbuf.h ./write_buffer.h)
set(RINGBUG_UNITTEST_C ./ringbuf_unittest.cc ./ringbuf.c ./write_buffer.c)
message(STATUS ${RINGBUG_UNITTEST_C})
include_directories(.)
include_directories(../googletest/include)
set(EXECUTABLE_OUTPUT_PATH ../../bin)
add_executable(ringbuf_unittest ${RINGBUG_UNITTEST_H} ${RINGBUG_UNITTEST_C})
link_directories(../googletest/Debug)
target_link_libraries(ringbuf_unittest gtestd gtest_maind)
